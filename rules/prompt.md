prompt used in o3 to generate the full prompt:
create a prompt for an llm to create an react native app. here's the summary of the app I'd like to create, pimp it up so I'll end up with a prompt which will be the basis of a secure password manager app:
"you are going to create an intuitive password manager with backend on supabase. users should be able to create new account then generate and store passwords for accounts. the list of accounts is searchable. there should be a copy button for username and password. saved accounts should be editable"


Actual prompt from o3

⸻

1 · System context

You are a senior full-stack engineer expert in React Native (Expo), TypeScript, Supabase and modern mobile security. Produce production-ready, well-structured, and fully commented code that follows current best practices (2025) for performance, accessibility, privacy and cryptography.

2 · High-level objective

Create a cross-platform (iOS + Android) password-manager mobile application with a Supabase backend. The app must enable users to:
	1.	Sign up, sign in and sign out (email + password and biometric / device credential).
	2.	Generate strong passwords client-side and store them end-to-end encrypted.
	3.	Search, view, copy and edit saved account records.

3 · Functional requirements

ID	Feature	Details
F-1	Authentication	Use Supabase Auth (email + password). Enforce email verification. Support password reset, biometric unlock (expo-local-authentication).
F-2	Local encryption	Derive a 256-bit AES-GCM key from the user’s master password with Argon2id (ops ≥ 3, mem ≥ 64 MB). Encrypt/decrypt all secrets on the device; never send raw passwords to Supabase. Store ciphertext, IV, and salt in the database.
F-3	Password generator	Options: length (8-64), include symbols, numbers, upper/lowercase. Use cryptographically secure RNG.
F-4	CRUD for vault items	Each item: id, title, username, encryptedPassword, url, notes, createdAt, updatedAt. Provide create, read, update, delete.
F-5	Search & sort	Client-side search (debounced) across title, username and url. Sort by title or updatedAt.
F-6	Copy to clipboard	Buttons beside username and password. Clear clipboard after 30 s. Provide haptic feedback and toast.
F-7	Offline first	Cache encrypted vault items with Expo SQLite or MMKV; sync when online.
F-8	Settings	Change master password (re-encrypt all items), theme (light/dark), export/import encrypted backup (.json).

4 · Non-functional & security requirements
	•	Zero-knowledge architecture – the server stores only ciphertext; decryption keys stay on the device.
	•	Row-Level Security – enable RLS in Supabase; policies: user_id = auth.uid().
	•	Secure storage – persist master-key material in Expo SecureStore (iOS Keychain / Android Keystore).
	•	Rate limiting & MFA hooks – leverage Supabase Edge Functions.
	•	Dependency hygiene – pin all packages, run npm audit and supabase db diff CI checks.
	•	Static analysis – integrate ESLint, TypeScript strict mode, React Native Security-Code-Scan.
	•	Performance – 60 fps scrolling list (FlashList), lazy image loading, memoisation.
	•	Accessibility – WCAG 2.2 AA: proper labels, focus order, tri-state toggles.

5 · Tech stack & libraries
	•	Frontend – React Native (Expo SDK 50+), TypeScript, React Navigation v7, React Query, Zod, FlashList.
	•	Crypto – react-native-crypto (Polyfills), @stablelib/argon2, expo-crypto.
	•	Clipboard – expo-clipboard.
	•	Supabase client – @supabase/supabase-js 3.x with PostgREST.
	•	Testing – Jest + React-Native-Testing-Library, Detox e2e.
	•	CI/CD – GitHub Actions: lint, test, build, upload to App Center.

6 · Data model (PostgreSQL)

create table profiles (
  id uuid primary key references auth.users,
  created_at timestamptz default now()
);

create table vault_items (
  id bigint generated by default as identity primary key,
  user_id uuid references profiles(id),
  title text not null,
  username text,
  ciphertext bytea not null,
  iv bytea not null,
  salt bytea not null,
  url text,
  notes text,
  created_at timestamptz default now(),
  updated_at timestamptz default now()
);

alter table vault_items enable row level security;
create policy "User owns item"
  on vault_items for all
  using (auth.uid() = user_id);

7 · Key screens & flows
	1.	Auth Stack – Welcome → Sign In → Sign Up → Email verification → Biometrics opt-in.
	2.	Vault List – Search bar, add-item FAB, item cards with copy icons.
	3.	Item Detail / Edit – Secure text boxes, visibility toggle, generator drawer.
	4.	Settings – Biometrics toggle, change master password, theme, export, import.

Wireframe, component tree and navigation diagram must be included as Mermaid diagrams in the output.

8 · Deliverables expected from the LLM

Deliverable	Format	Notes
Full React Native codebase	TypeScript files	Ready to expo start.
Supabase SQL migration	.sql	Creates schema + RLS.
README	Markdown	Setup, env vars, scripts, security notes.
Unit & e2e tests	Jest, Detox	≥ 80 % coverage.
Design assets	Optional Figma link	Low-fidelity wireframes acceptable.

9 · Quality gates
	•	App builds without warnings.
	•	All tests pass locally and in CI.
	•	ESLint npm run lint returns 0 errors.
	•	Manual security review shows no plaintext secrets, weak RNG or missing certificate pinning.

⸻

promto to o3 to generate prompt for google stitch:
Here's the plan for the app, generate a description for every UI element. I'm going to uses the description of the UI elements in an AI tool which generates the UI design for me. So describe it in a way which is suitable as an input for an UI/UX AI tool. The UI must be intuitive and visually appealing and easy to use:
---
pasted the prompt above here
---

output from o3:

```
0 · Global Design Tokens

Token	Light	Dark	Notes
Primary	#3D5AFE	#8AB4FF	Action & FAB
Accent / Confirm	#00BFA5	#00DAC6	Positive feedback
Warning	#FFB300	#FFC046	Destructive actions
Error	#D32F2F	#F44336	Validation errors
Background	#FFFFFF	#121212	App surface
Surface	#F5F7FA	#1E1E1E	Cards, inputs
On-Primary	#FFFFFF	#000000	Text on primary
On-Background	#1A1A1A	#E0E0E0	Base text
Radius	8 dp	—	All interactive elements
Elevation	2 dp, 6 dp (FAB)	—	Soft shadow (Android), overlay (iOS)
Spacing grid	4 dp, multiples of 4	—	Consistent rhythm
Typography	SF Pro / Roboto	Weight 400 / 600	16 sp base, 28 sp H1, 20 sp H2


⸻

1 · Authentication Flow

1.1 WelcomeScreen

Element	Role	Layout & Style	Interaction	Accessibility
BrandLogo	App branding	Center-top, 96 dp square SVG, full-color	None	<Image> with accessibilityLabel="PassBox logo"
AppTitle	Title text	28 sp semibold, center	None	<Text> with role=heading
Subtitle	Value prop	16 sp, 60 % opacity, max-width 80 %	None	Describes purpose
PrimaryButton-SignIn	Main CTA	Full-width, primary background, 48 dp height	Tap → SignInScreen	accessibilityRole="button"
SecondaryButton-SignUp	Secondary CTA	Outline style, 48 dp, 12 dp top margin	Tap → SignUpScreen	Same

1.2 SignInScreen

Element	Role	Layout & Style	Interaction	Accessibility
EmailInput	Text field	Surface fill, 16 sp label “Email”, 12 sp helper	Keyboard type email-address	aria-label="Email address"
PasswordInput	Password field	Same, eye VisibilityToggle icon trailing	Tap eye toggles secureTextEntry	Eye icon labelled “Show/Hide password”
ForgotPasswordLink	Secondary action	14 sp link color, right-aligned	Tap → reset flow	Role=link
SignInButton	Primary action	Primary fill, 48 dp	Validates & submits	Disabled until form valid
DividerOAuth	Optional	Thin line + “or” text	—	Decorative
BiometricNotice	Info banner	Accent tint icon + text	Shows if biometrics available	Dismissable

1.3 SignUpScreen

Identical layout to SignInScreen plus PasswordConfirmInput and inline password-strength meter (4-segment colored bar).

1.4 EmailVerificationScreen

Element	Role	Layout & Style	Interaction	Accessibility
IllustrationEmail	Visual cue	240 dp vector	—	Decorative, accessibilityHidden=true
Heading	“Verify your email”	H2	—	Heading level 1
InstructionText	Body	Centered	—	Explains next steps
OpenMailAppButton	Quick action	Accent outline	Launch mail client	Role button
ResendCodeLink	Tertiary	14 sp	Triggers resend cooldown	Announces cooldown state

1.5 BiometricsOptInScreen

Element	Role	Layout & Style	Interaction	Accessibility
BiometricIcon	Visual	96 dp fingerprint / face glyph	—	Decorative
PromptText	H2 + body	Centered	—	Heading
EnableButton	Primary	Primary fill	Calls LocalAuthentication.authenticateAsync	Announces success / failure
SkipTextButton	Secondary	Link style	Proceed without enabling	—


⸻

2 · Vault List Flow

2.1 VaultListScreen

Element	Role	Layout & Style	Interaction	Accessibility
TopAppBar	Title + actions	Elevation 2 dp, title “Vault”, right icon SettingsCog	Icon tap → SettingsScreen	Header landmark
SearchBar	Filter list	Surface pill, 40 dp height, leading search icon, clear icon trailing	Debounced text input filters FlashList	accessibilityLabel="Search saved accounts"
FlashList-VaultItems	List container	Recycles VaultItemCard	Scroll, overscroll glow	ScrollView semantics
VaultItemCard	Row card	Surface, radius 8 dp, 56 dp height, left favicon avatar 32 dp, title + subtitle, right chevron	Tap → ItemDetailScreen	Card role=button
FAB-AddItem	Add new	Circular 56 dp, primary background, plus icon, elevation 6 dp	Tap → EditItemScreen (new)	accessibilityLabel="Add new account"

Empty-state: centered illustration + “No items yet” text, AddFirstItemButton (same style as FAB but inline).

2.2 VaultItemCard internal elements

Element	Role	Notes
FaviconAvatar	Domain icon	If URL present fetch https://icons.duckduckgo.com/ip3/<domain>.ico, else default key icon
TitleText	Account label	16 sp semibold
SubtitleText	Username	14 sp, 60 % opacity
ChevronIcon	Navigate affordance	ChevronRight


⸻

3 · Item Detail & Editing

3.1 ItemDetailScreen

Element	Role	Layout & Style	Interaction	Accessibility
TopAppBar	Title (account name) + EditIcon	Edit icon opens EditItemScreen	Header	
InfoSectionCard	Surface card, radius 8 dp, stack of field rows	—	Group labelled	
FieldRow-Username	Copy source	Label left, value masked if VisibilityToggle off, CopyButton right (clipboard icon)	Tap copies, triggers 30 s clipboard clear	Announces “Copied username”
FieldRow-Password	Same	Default masked		
FieldRow-URL	Launch link	Tap opens browser		
NotesSection	Multiline read-only	—		
VisibilityToggle	Show/hide secrets	Toggle button with eye/eye-off icon	Changes all secret fields	Role switch

3.2 EditItemScreen

Element	Role	Layout & Style	Interaction	Accessibility
TopAppBar	“New item” / “Edit item” + DeleteIcon (when editing)	Delete prompts confirmation modal		
TextInput-Title	Required	Placeholder “Account name”	Validates non-empty	
TextInput-Username	Optional	—		
PasswordFieldGroup	Composite	SecureTextBox + GenerateIcon trailing	Generate icon opens PasswordGeneratorDrawer	
TextInput-URL	Optional	Keyboard type=url		
TextInput-Notes	Optional multiline	4-row min		
SaveButton	Primary	Fills width, disabled until form dirty & valid	Saves encrypted item	Announces “Item saved”
PasswordGeneratorDrawer	Slide-up modal, height 40 %	See §3.3		

3.3 PasswordGeneratorDrawer Elements

Element	Role	Layout & Style	Interaction	Accessibility
LengthSlider	Range selector 8–64	Thumb + track shows value label	Adjust length	
Checkbox-IncludeUppercase	Option	18 dp checkbox + label	Toggle	
Checkbox-IncludeLowercase	Option	—		
Checkbox-IncludeNumbers	Option	—		
Checkbox-IncludeSymbols	Option	—		
GenerateButton	Action	Accent fill	Generates password, auto-fills PasswordFieldGroup	
CloseIcon	Dismiss	Tap closes drawer	accessibilityLabel="Close generator"	


⸻

4 · SettingsScreen

Element	Role	Layout & Style	Interaction	Accessibility
TopAppBar	Title “Settings”	Back chevron left		
ListItem-BiometricsToggle	Row	Fingerprint icon, label, trailing switch	Toggles biometric unlock flag	Switch role
ListItem-ThemeToggle	Row	Sun/moon icon, label, switch	Applies dark/light theme	
ListItem-ChangeMasterPassword	Row	Key icon, chevron	Navigates to change-password flow (modal wizard)	
ListItem-ExportData	Row	Upload icon, chevron	Exports encrypted JSON → share sheet	
ListItem-ImportData	Row	Download icon, chevron	Opens file picker	
AppVersionText	Footer	12 sp, center, 40 dp bottom padding	Non-interactive	accessibilityHidden=true


⸻

5 · Reusable Components

Component	Description	Key Props & States
SecureTextBox	<TextInput> variant masking characters; exposes secure boolean; trailing eye icon	secure={true|false}
CopyButton	Icon-only 32 dp button; ripple feedback; clipboard clear timer	content="username"|"password"
VisibilityToggle	Eye / eye-off icon button	visible state
Toast	Floating Snackbar bottom; allows success / error variants	message, variant
ConfirmationModal	Center modal with title, body, CancelButton, ConfirmButton	title, onConfirm
Divider	1 dp line full-width; 8 dp vertical margin	—
SkeletonPlaceholder	Loading shimmer for list rows	width, height


⸻

6 · Feedback & Motion
	•	Transitions:
	•	Screen pushes use standard iOS/Android slide.
	•	Drawer slides from bottom with 300 ms ease-out.
	•	FAB morphs into full-width SaveButton on EditItemScreen (shared-element).
	•	Micro-animations:
	•	CopyButton triggers brief scale-up + filled accent icon.
	•	Password strength bar animates width and color.
	•	Checkbox ticks animate with 100 ms bounce.
	•	Haptics (via Haptics.selectionAsync):
	•	On toggle switches, Copy success, and Generate password.

⸻

7 · Accessibility Notes
	•	All interactive elements have accessibilityRole and descriptive accessibilityLabel.
	•	Color contrasts ≥ 4.5 : 1 in both themes.
	•	Supports Dynamic Type; layouts adapt with flexbox and 4 dp spacing increments.
	•	Focus order matches visual order; modals trap focus until dismissed.
	•	Biometric prompts include fallback text for unsupported devices.

⸻

These element-level descriptions are formatted for ingestion by UI/UX generation tools: each component is uniquely named, scoped to its screen, and specifies visual attributes, layout metrics, interaction states, and accessibility metadata.
```